

## Тестовое задание



Общие положения
Постарайтесь показать свои лучшие практики написания кода
Используйте язык PHP, любой фреймворк (если есть опыт с yii2, то предпочтительно использовать его). В качестве СУБД используйте MySQL
Код необходимо выложить в Git репозиторий. По возможности, ведите историю коммитов, чтобы мы могли отследить Ваш процесс разработки
Приветствуется чистота и элегантность кода
Общее описание
Необходимо реализовать систему принятия и обработки заявок пользователей с сайта. Любой пользователь может отправить данные по публичному REST API, реализованному нами, оставив заявку с каким-то текстом. Затем заявка рассматривается ответственным лицом и ей устанавливается статус Завершено. Чтобы установить этот статус, ответственное лицо должно оставить комментарий. Пользователь должен получить свой ответ по email.
При этом, ответственное лицо должно иметь возможность получить список заявок, отфильтровать их по статусу и по дате создания, а также иметь возможность ответить на заявку, пользователь должен получить ответ по email.

Сущности

 <table class="table">
  <thead>
    <tr>
      <th>Название</th>
      <th>Описание</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
        <td>Уникальный идентификатор</td>
            </tr>
       <tr>
              <td>name</td>
        <td>Имя пользователя - строка, обязательное</td>
    </tr>
             <tr>
              <td>email</td>
        <td>Email пользователя - строка, обязательное</td>
    </tr>
                   <tr>
              <td>status</td>
        <td>Статус - enum(“Active”, “Resolved”), обязательное</td>
    </tr>
                         <tr>
              <td>message</td>
        <td>Сообщение пользователя - текст, обязательное</td>
    </tr>
                               <tr>
              <td>comment</td>
        <td>Ответ ответственного лица - текст, обязательное если статус Resolved</td>
    </tr>
                                     <tr>
              <td>created_at</td>
        <td>Время создания заявки, обязательное</td>
    </tr>
                                           <tr>
              <td>updated_at</td>
        <td>Время изменения заявки, обязательное</td>
    </tr>
  </tbody>
</table>



Endpoint-ы API
POST /requests - отправка заявки пользователями системы, доступен любому без авторизации
GET /requests - получение заявок ответственным лицом, с фильтрацией по статусу, доступен только ответственному лицу
PUT /requests/{id} - ответ на конкретную заявку ответственным лицом, доступен только ответственному лицу

В эндпоинтах необходимо настроить CORS, запросы должны приниматься только с одного домена на Ваш выбор.

Плюсом будет использование swagger для документирования API, либо других аналогичных инструментов.

## Описание
'http://localhost:8000/request' - создание заявки
'http://localhost:8000/register' - регистрация пользователя
'http://localhost:8000/login' - авторизация
'http://localhost:8000/admin' - доступна только для админа. По умолчанию, пользователю получает роль USER (таблица users, role 1). Чтобы сделать его админом, необходимо сменить role на 0.
CORS-запросы проходят только по 'http://localhost:8002'

